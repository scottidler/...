#!/bin/bash

if [ -n "$DEBUG" ]; then
    PS4=':${LINENO}+'
    set -x
fi

TARGET="$(readlink -f "$1")"

if [ -d "$TARGET" ]; then
    ls-stat -lah --color=always "$TARGET"
elif [ -f "$TARGET" ]; then
    INFO="$(file "$TARGET")"
    if [[ "$INFO" == *"ASCII"* ]]; then
        cat "$TARGET"
    else
        echo "$INFO"
    fi
else
    echo "$TARGET not file or directory"
    exit 1
fi
